{% set data = module.prayer_counter_content%}

{% require_js %}
<script>
  const data_json = {{data|tojson}};
  console.log(data_json);

  data_json.forEach((tab, index) => {
    console.log("tab data ", tab);


    const modal = document.getElementById(`modal-${index+1}`);
    const openModalBtn = document.getElementById(`btn-${index+1}`);
    const closeModalBtn = modal.querySelector('.close-btn');


    openModalBtn.addEventListener('click', function () {
      modal.style.display = 'flex';
    });


    closeModalBtn.addEventListener('click', function () {
      modal.style.display = 'none';
    });

    // Optional: Close the modal when clicking outside the modal content
    window.addEventListener('click', function (e) {
      if (e.target === modal) {
        modal.style.display = 'none';
      }
    });
  });

</script>

{% end_require_js %}


<div class="box_body-container_prayer_counter">
  <div class="header__prayer_counter">
    <p>My Prayer Board<p>
  </div>
  {% for item in module.prayer_counter_content %}
    <div class="body-container_prayer-counter">
        <div class="counter-container">
            <span class="label">{{ item.prayer_title }}</span>
        
            <div class="vist-continer">
                <div>
                    <span class="vist-page">Visit Page</span>
                </div>
                
                <div id="btn-{{ loop.index}}" class="open_Modal_button">
                    <svg width="24" height="24" viewBox="0 0 24 23"  xmlns="http://www.w3.org/2000/svg">
                        <path d="M23.3535 0.99998C23.3535 0.723838 23.1296 0.49998 22.8535 0.49998L18.3535 0.49998C18.0773 0.49998 17.8535 0.723838 17.8535 0.99998C17.8535 1.27612 18.0773 1.49998 18.3535 1.49998L22.3535 1.49998L22.3535 5.49998C22.3535 5.77612 22.5773 5.99998 22.8535 5.99998C23.1296 5.99998 23.3535 5.77612 23.3535 5.49998L23.3535 0.99998ZM12.7286 11.832L23.207 1.35353L22.4999 0.646427L12.0214 11.1249L12.7286 11.832Z" fill="#B09B45"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M18.25 9.08943V21C18.25 21.5523 17.8023 22 17.25 22H2C1.44771 22 1 21.5523 1 21V5.74997C1 5.19768 1.44771 4.74997 2 4.74997H15.8434L16.8434 3.74997H2C0.895431 3.74997 0 4.6454 0 5.74997V21C0 22.1046 0.895429 23 2 23H17.25C18.3546 23 19.25 22.1046 19.25 21V8.08943L18.25 9.08943Z" fill="#B09B45"/>
                    </svg>

                </div>
            </div>
        </div>
    </div>

     <!-- Modal Structure -->
    <div class="modal-overlay_prayer-counter" id="modal-{{ loop.index}}" style="display: none;">
      <div class="modal-content">
          <button class="close-btn" id="closeBtn-{{ loop.index}}">&times;</button>
          <section>
              <div class="dedication-prayer">
                  <h4>{{ item.popup_prayer_title }}</h4>
                  <p>
                    {{ item.prayer_popup_content }}
                  </p>
              </div>
          </section>
      </div>
    </div>

    {% endfor %}

</div>

  
    
    <!-- <div class="counter-controls">
      <button class="decrement">-</button>
      <span class="count">00</span>
      <div class="number">Number</div>
      <div class="nos">Nos</div>
      <button class="increment">+</button>
    </div> -->

 